document.addEventListener("DOMContentLoaded",()=>{const e=new IntersectionObserver((t=>{t.forEach(t=>{t.isIntersecting&&t.target.classList.add("visible")})}),{threshold:.1});document.querySelectorAll(".fade-in").forEach(t=>e.observe(t));const t=document.getElementById("year");t&&(t.textContent=new Date().getFullYear());const n=async(e,t)=>{try{const o=await fetch(`/api/get-latest?type=${e}`);if(!o.ok)throw new Error("Fetch failed");const a=await o.text(),i=document.getElementById(t);i&&(i.src=a)}catch(o){console.warn(`Could not fetch latest ${e}:`,o)}};n("headshot","headshot"),n("cv","cv-download-link"),n("video","introVideo")});
